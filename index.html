<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>RwaVault Launchpad — Multi-Vault</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.2/dist/ethers.umd.min.js"></script>
  <style>
    body{background:#0b0f14;color:#e9eef4}
    .hero{background:linear-gradient(135deg,#0d1a26,#0b0f14);border:1px solid #1f2a37}
    .card{background:#111821;border:1px solid #1f2a37}
    .progress{height:12px;background:#18202a}
    .progress-bar{background:#0d6efd}
    img#nftImage{max-height:260px;object-fit:contain;background:#0b0f14}
    .muted{opacity:.8}
    code.small{font-size:.9em}
    .spinner-border-sm{width:.9rem;height:.9rem}
  </style>
</head>
<body>
<div class="container py-4">
  <div class="p-4 rounded mb-4 hero d-flex flex-wrap justify-content-between align-items-center gap-3">
    <div>
      <h2 class="m-0">RwaVault — Fund Real-World Assets</h2>
      <div class="muted">Deposit ETH into specific vault NFTs. Track progress in real time.</div>
    </div>
    <div class="d-flex gap-2">
      <button id="btnConnect" class="btn btn-primary">Connect Wallet</button>
      <a id="linkEtherscan" class="btn btn-outline-light" target="_blank" rel="noopener">Etherscan</a>
      <a id="linkOpenSea" class="btn btn-outline-light" target="_blank" rel="noopener">OpenSea</a>
    </div>
  </div>

  <div class="row g-4">
    <div class="col-lg-7">
      <div class="card p-3">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Token ID</label>
            <div class="input-group">
              <input id="tokenId" type="number" class="form-control" value="0" min="0" step="1" autocomplete="off"/>
              <button id="btnLoad" class="btn btn-outline-light">
                Load <span class="spinner-border spinner-border-sm ms-1" style="display:none"></span>
              </button>
            </div>
            <div class="form-text text-warning">Enter a tokenId and click Load.</div>

            <div class="border rounded p-2 text-center mt-3">
              <img id="nftImage" class="img-fluid rounded" alt="NFT preview image"/>
            </div>

            <div class="small mt-2">
              <div><span class="muted">Name:</span> <span id="nftName">—</span></div>
              <div><span class="muted">Symbol:</span> <span id="nftSymbol">—</span></div>
              <div><span class="muted">Owner:</span> <code class="small" id="ownerAddr">—</code></div>
              <div><span class="muted">tokenURI:</span> <code class="small" id="tokenUri">—</code></div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="border rounded p-3">
              <div class="d-flex justify-content-between">
                <div class="muted">Funding Progress</div>
                <div><span id="progressPct" aria-live="polite">0</span>%</div>
              </div>
              <div class="progress mb-2"><div id="progressBar" class="progress-bar" style="width:0%"></div></div>
              <div class="small">
                <div><span class="muted">ETH Deposited:</span> <span id="ethDeposited" aria-live="polite">0</span> ETH</div>
                <div><span class="muted">Target (USD):</span> $<span id="targetUsd" aria-live="polite">0.00</span></div>
              </div>
            </div>

            <div class="mt-3">
              <label class="form-label">Deposit Amount (ETH)</label>
              <div class="input-group">
                <input id="ethAmount" type="text" class="form-control" placeholder="e.g. 0.01" autocomplete="off"/>
                <button id="btnMax" class="btn btn-outline-secondary">Max</button>
                <button id="btnDeposit" class="btn btn-success">
                  Deposit <span class="spinner-border spinner-border-sm ms-1" style="display:none"></span>
                </button>
              </div>
              <div class="form-text">Calls <code>deposit(tokenId)</code> on the contract.</div>
            </div>

            <div class="mt-3">
              <label class="form-label">Withdraw Amount (ETH)</label>
              <div class="input-group">
                <input id="withdrawAmt" type="text" class="form-control" placeholder="e.g. 0.5" autocomplete="off"/>
                <button id="btnWithdraw" class="btn btn-warning" style="display:none">
                  Owner Withdraw <span class="spinner-border spinner-border-sm ms-1" style="display:none"></span>
                </button>
              </div>
            </div>

            <div class="mt-3 d-grid">
              <button id="btnRefresh" class="btn btn-outline-light btn-sm">
                Refresh <span class="spinner-border spinner-border-sm ms-1" style="display:none"></span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-5">
      <div class="card p-3 small">
        <h6>Status</h6>
        <div><span class="muted">Connected:</span> <code id="connStatus">Not connected</code></div>
        <div><span class="muted">Account:</span> <code id="acct">—</code></div>
        <div><span class="muted">Network:</span> <code id="net">—</code></div>
        <div><span class="muted">Contract:</span> <code id="ctr">—</code></div>
        <hr/>
        <h6>Activity Log</h6>
        <pre id="log" aria-live="polite" style="white-space:pre-wrap;background:#0b0f14;border:1px solid #1f2a37;border-radius:.5rem;padding:.75rem;max-height:40vh;overflow:auto;"></pre>
      </div>
    </div>
  </div>
</div>

<!-- Externalized JS for GitHub Pages -->
<script src="script.js"></script>
</body>
</html>
